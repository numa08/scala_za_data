{"assets":{"BC856C11D6C1F7A3473FBCDF8E3D37A2":{"type":"texture","assetRequest":{"type":"slide","state":"outgoing"},"url":"assets/BC856C11D6C1F7A3473FBCDF8E3D37A2.png","width":1024,"height":768},"B5BA7D3550A24DB99685EE4EABC357F2":{"type":"texture","assetRequest":{"type":"slide","state":"incoming"},"url":"assets/B5BA7D3550A24DB99685EE4EABC357F2.png","width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":true,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":0,"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":15,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"B5BA7D3550A24DB99685EE4EABC357F2"},{"animations":[{"from":{"scalar":false},"property":"hidden","beginTime":0,"to":{"scalar":true},"fillMode":"both","duration":0.01}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"BC856C11D6C1F7A3473FBCDF8E3D37A2"}]}]},"effects":[],"duration":0.01,"type":"transition","name":"none","objectID":0}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"  def Registration = Action.async { request =>","targetRectangle":{"y":127.0000085830688,"x":636.072021484375,"width":225.8800000000001,"height":9.999989867210388}},{"text":"    print(request.body.asJson)","targetRectangle":{"y":142.0000085830688,"x":636.072021484375,"width":145.1900000000001,"height":9.999989867210388}},{"text":"    (","targetRectangle":{"y":157.0000085830688,"x":636.072021484375,"width":16.88,"height":9.999989867210388}},{"text":"      for {","targetRectangle":{"y":172.0000085830688,"x":636.072021484375,"width":41.5,"height":9.999989867210388}},{"text":"        json <- request.body.asJson","targetRectangle":{"y":187.0000085830688,"x":636.072021484375,"width":163.95,"height":9.999989867210388}},{"text":"        name <- (json \\ \"name\").asOpt[String]","targetRectangle":{"y":202.0000085830688,"x":636.072021484375,"width":210.99,"height":9.999989867210388}},{"text":"        pass <- (json \\ \"pass\").asOpt[String]","targetRectangle":{"y":217.0000085830688,"x":636.072021484375,"width":202.67,"height":9.999989867210388}},{"text":"      } yield {","targetRectangle":{"y":232.0000085830688,"x":636.072021484375,"width":56.15999999999997,"height":9.999989867210388}},{"text":"        WS.url(userUrl(name)).get().map { response =>","targetRectangle":{"y":247.0000085830688,"x":636.072021484375,"width":256.53,"height":9.999989867210388}},{"text":"          if(name == None){","targetRectangle":{"y":262.0000085830688,"x":636.072021484375,"width":123.39,"height":9.999989867210388}},{"text":"            Ok(Json.obj(\"error\"->\"no name\"))","targetRectangle":{"y":277.0000085830688,"x":636.072021484375,"width":199.3900000000001,"height":9.999989867210388}},{"text":"          }else if(pass == None){","targetRectangle":{"y":292.0000085830688,"x":636.072021484375,"width":145.48,"height":9.999989867210388}},{"text":"            Ok(Json.obj(\"error\"->\"no pass\"))","targetRectangle":{"y":307.0000085830688,"x":636.072021484375,"width":195.23,"height":9.999989867210388}},{"text":"          }else if(response.status != 404){","targetRectangle":{"y":322.0000085830688,"x":636.072021484375,"width":191.4200000000001,"height":9.999989867210388}},{"text":"            Ok(Json.obj(\"error\"->\"already exist\"))","targetRectangle":{"y":337.0000085830688,"x":636.072021484375,"width":218.75,"height":9.999989867210388}},{"text":"          }else{","targetRectangle":{"y":352.0000085830688,"x":636.072021484375,"width":59.68999999999994,"height":9.999989867210388}},{"text":"            val data = Json.obj(\"name\" -> name,\"pass\" -> pass)","targetRectangle":{"y":367.0000085830688,"x":636.072021484375,"width":287.1800000000001,"height":9.999989867210388}},{"text":"            val post = WS.url(userUrl(name)).post(data)","targetRectangle":{"y":382.0000085830688,"x":636.072021484375,"width":254.8299999999999,"height":9.999989867210388}},{"text":"            try {","targetRectangle":{"y":397.0000085830688,"x":636.072021484375,"width":60.51999999999998,"height":9.999989867210388}},{"text":"              Await.result(post,100 millis)","targetRectangle":{"y":412.0000085830688,"x":636.072021484375,"width":182.89,"height":9.999989867210388}},{"text":"            } catch {","targetRectangle":{"y":427.0000085830688,"x":636.072021484375,"width":80.96000000000004,"height":9.999989867210388}},{"text":"              case e: TimeoutException => \"timeout \" + e","targetRectangle":{"y":442.0000085830688,"x":636.072021484375,"width":259.13,"height":9.999989867210388}},{"text":"              case _ => \"unknown\"","targetRectangle":{"y":457.0000085830688,"x":636.072021484375,"width":147.62,"height":9.999989867210388}},{"text":"            } finally {","targetRectangle":{"y":472.0000085830688,"x":636.072021484375,"width":81.87,"height":9.999989867210388}},{"text":"              //nothing","targetRectangle":{"y":487.0000085830688,"x":636.072021484375,"width":93.58999999999992,"height":9.999989867210388}},{"text":"            }","targetRectangle":{"y":502.0000085830688,"x":636.072021484375,"width":43.42999999999995,"height":9.999989867210388}},{"text":"            var test = \"\";","targetRectangle":{"y":517.0000085830688,"x":636.072021484375,"width":100.61,"height":9.999989867210388}},{"text":"            post onSuccess {","targetRectangle":{"y":532.0000085830688,"x":636.072021484375,"width":125.5799999999999,"height":9.999989867210388}},{"text":"              case _ => test = \"OK\"","targetRectangle":{"y":547.0000085830688,"x":636.072021484375,"width":150.53,"height":9.999989867210388}},{"text":"            }","targetRectangle":{"y":562.0000085830688,"x":636.072021484375,"width":43.42999999999995,"height":9.999989867210388}},{"text":"            post onFailure {","targetRectangle":{"y":577.0000085830688,"x":636.072021484375,"width":117.3599999999999,"height":9.999989867210388}},{"text":"              case _ => test = \"NG\"","targetRectangle":{"y":592.0000085830688,"x":636.072021484375,"width":150.79,"height":9.999989867210388}},{"text":"            }","targetRectangle":{"y":607.0000085830688,"x":636.072021484375,"width":43.42999999999995,"height":9.999989867210388}},{"text":"            Ok(test)","targetRectangle":{"y":622.0000085830688,"x":636.072021484375,"width":79.87,"height":9.999989867210388}},{"text":"          }","targetRectangle":{"y":637.0000085830688,"x":636.072021484375,"width":36.76999999999998,"height":9.999989867210388}},{"text":"        }","targetRectangle":{"y":652.0000085830688,"x":636.072021484375,"width":30.11000000000001,"height":9.999989867210388}},{"text":"      }","targetRectangle":{"y":667.0000085830688,"x":636.072021484375,"width":23.45000000000005,"height":9.999989867210388}},{"text":"    ).getOrElse {","targetRectangle":{"y":682.0000085830688,"x":636.072021484375,"width":74.53999999999996,"height":9.999989867210388}},{"text":"      future{Ok(\"json error\")}","targetRectangle":{"y":697.0000085830688,"x":636.072021484375,"width":134.3,"height":9.999989867210388}},{"text":"    }","targetRectangle":{"y":712.0000085830688,"x":636.072021484375,"width":16.78999999999996,"height":9.999989867210388}},{"text":"  }","targetRectangle":{"y":727.0000085830688,"x":636.072021484375,"width":10.13,"height":9.999989867210388}},{"text":"riakから読み込んでからriakに書き込む\u2028(認証つけると大抵こうなる)","targetRectangle":{"y":75.00001692771912,"x":46.81199073791504,"width":639.376,"height":89.9999635219574}},{"text":"非同期の箇所が増えると","targetRectangle":{"y":374.0000169277191,"x":174.5399951934814,"width":394.9200000000001,"height":35.9999635219574}},{"text":"エラー処理があっちこっちに","targetRectangle":{"y":428.0000169277191,"x":138.5399951934814,"width":466.9200000000001,"height":35.9999635219574}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":true,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":0,"layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":15,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"B5BA7D3550A24DB99685EE4EABC357F2"},{"animations":[{"from":{"scalar":false},"property":"hidden","beginTime":0,"to":{"scalar":true},"fillMode":"both","duration":0.01}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"BC856C11D6C1F7A3473FBCDF8E3D37A2"}]}]}}]}